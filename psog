local HttpService = game:GetService("HttpService")

-- Fetch RAP data
local function fetchRAPData()
    local success, response = pcall(function()
        local apiResponse = game:HttpGet("https://petsgo.biggamesapi.io/api/rap")
        return HttpService:JSONDecode(apiResponse)
    end)

    -- Debugging: Print the full response from the RAP API
    if success then
        print("RAP API Response (full): ", HttpService:JSONEncode(response))  -- Print the full RAP API response as JSON for debugging
    else
        warn("⚠️ Failed to fetch RAP data!")
        return nil
    end

    return response  -- Return the full response for further processing
end

-- Function to get RAP value for a specific pet
local function getRAPValue(petName, rapData)
    for _, pet in ipairs(rapData) do
        if pet.configData and pet.configData.id == petName then
            return pet.value -- Return RAP value if found
        end
    end
    return nil -- Return nil if pet not found
end

-- Example of how to call the functions
local petName = "Huge Piggy"
local rapData = fetchRAPData() -- Fetch RAP data

if rapData then
    -- Print the full RAP data for debugging
    print("Full RAP Data: ", HttpService:JSONEncode(rapData))

    -- Try to get the RAP value
    local rapValue = getRAPValue(petName, rapData)
    if rapValue then
        print("RAP Value for " .. petName .. ": " .. rapValue)
    else
        print("RAP value not found for " .. petName)
    end
else
    print("Failed to fetch RAP data.")
end
